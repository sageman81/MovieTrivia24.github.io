
body {
    margin: 0;
    padding: 0;
    text-align: center;
    font-family: Arial, sans-serif;
    background: url('https://cdn.pixabay.com/photo/2017/09/04/09/37/cinema-strip-2713352_1280.jpg') no-repeat center center;
    background-size: cover;
}

 
.start-screen {
    color: goldenrod;
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

.start-screen h1 {
    font-size: 6vw; /* Adjust font size for smaller screens */
    margin: 0;
    padding: 0;
    line-height: 1.2;
    -webkit-text-stroke: 1px black;
}

.start-screen p {
    margin: 10px 0;
    font-size: 3vw; /* Adjust font size for smaller screens */
    -webkit-text-stroke: 1px black;
}

/* Button styles */
#startButton {
    background-color: #ff4500;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 2vw; /* Adjust font size for smaller screens */
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.5s;
}

#startButton:hover {
    background-color: #e63900;
}

/* Trivia section styling */
#trivia {
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    color: goldenrod;
    text-align: center;
}

/* Responsive design adjustments */
@media (max-width: 600px) {
    .start-screen h1 {
        font-size: 8vw; /* Adjust font size for smaller screens */
    }

    .start-screen p {
        font-size: 4vw; /* Adjust font size for smaller screens */
    }

    #startButton {
        font-size: 3vw; /* Adjust font size for smaller screens */
    }

    .button-grid {
        grid-template-columns: repeat(1, 80%);
    }

    .points-counter, .timer-display {
        font-size: 3.5vw; /* Adjust font size for smaller screens */
        padding: 10px;
        margin: 10px;
    }

    #question {
        font-size: 5vw; /* Adjust font size for smaller screens */
    }
}

/* Additional specific styles for elements */
.timer-display, .points-counter {
    font-size: 2vw; /* Adjust font size for smaller screens */
    background-color: blue;
    color: goldenrod;
    padding: 20px;
    border: solid 5px goldenrod;
    margin-top: 10px;
    width: auto;
    margin-left: auto;
    margin-right: auto;
}

#questionImage {
    max-width: 90%; /* Adjust image width for smaller screens */
    max-height: 370px;
    width: auto;
    height: auto;
    object-fit: contain;
}

.button-grid {
    display: grid;
    grid-template-columns: repeat(2, 48%);
    grid-template-rows: auto auto;
    gap: 10px;
    justify-content: center;
} 


document.addEventListener('DOMContentLoaded', function() {
    const startButton = document.getElementById('startButton');
    const gameContainer = document.getElementById('trivia'); // Corrected typo
    const startScreen = document.getElementById('startScreen');
    const questionEl = document.getElementById('question');
    const answerButtons = document.querySelectorAll('.answer'); // Corrected to select all answer buttons
    const pointsEl = document.getElementById('pointsCounter');
    const feedbackEl = document.getElementById('feedback');
    const timerDisplay = document.getElementById('timerDisplay');
    const questionImage = document.getElementById('questionImage');
    const restartButton = document.getElementById('restartButton');

    let points = 0;
    let timer;
    let timeLeft = 30; // Corrected typo
    let currentQuestionIndex = 0;
    let hasAnswered = false;

   
        let questions = [
            {
                question: "What year was the Godfather released?",
                answers: ["1969", "1972", "1978", "1980"],
                correctAnswer: "1972",
                image: "https://images5.alphacoders.com/615/615040.jpg" //place gf image here
            },
        
            {
                question: "Who directed 'Pulp Fiction'?",
                answers: ["Steven Spielberg", "James Cameron", "Martin Scorcesse", "Quentin Tarantino"],
                correctAnswer: "Quentin Tarantino",
                image: "https://filmcolossus.com/wp-content/uploads/2023/05/VideoScreenshot-File1Jz369WSLD80-Vidcloud-6542-e1684891485948.jpg"//pulp fiction image
            },
        
            {
                question: "What does Jack Burton like to say in 'Big Trouble in Little China'?",
                answers: ["It's all in the reflexes.", "I love the smell of Napalm in the morning.", "All work and no play makes Jack a dull boy.", "I'm too old for this..."],
                correctAnswer: "It's all in the reflexes.",
                image: "https://worldfilmgeek.files.wordpress.com/2019/04/bigtroubleinlittlechina-still.jpg"
            },
        
            {
                question: "What is Darth Vader's famous line from 'The Empire Strikes Back'?",
                answers: ["Luke, I am your father.", "Luke, I'm your father.", "No, I am your father.", "I ain't your daddy!"],
                correctAnswer: "No, I am your father.",
                image: "https://images6.alphacoders.com/584/584828.jpg"
            },
        
            {
                question: "Who was almost cast to star in the Terminator before Arnold Schwarzenegger got the role?",
                answers: ["Sylvester Stallone", "Jean-Claude Van Damme", "O.J. Simpson", "Hulk Hogan"],
                correctAnswer: "O.J. Simpson",
                image: "https://images.squarespace-cdn.com/content/v1/59e512ddf43b55c29c71b996/3f10e1fc-e608-49af-86ce-b86d7ccadf73/TERMSE_SIDEA-22.jpg?format=1500w"
        
            },
            {
                question: "What phrase does RoboCop frequently say after apprehending a suspect?",
                answers: ["You have the right to remain silent.", "Hasta la vista, baby.", "I'll be back.", "Dead or alive, you're coming with me."],
                correctAnswer: "Dead or alive, you're coming with me.",
                image: "https://miro.medium.com/v2/resize:fit:996/1*vEEVsy9MyqiuGoZpVhveqw.jpeg"
            },

            {
                question: "What is the name of the resistance leader fighting against the Mars administration in 'Total Recall'?",
                answers: ["Cohaagen", "Kuato", "Richter", "Melnik"],
                correctAnswer: "Kuato",
                image: "https://images.squarespace-cdn.com/content/v1/576a19ba46c3c4a46ff5bb79/df4ff442-072f-46e6-96e5-0140f0c31da4/Kuato.jpg"
            },

            {
                question: "In which city does Blade Runner take place?",
                answers: ["Los Angeles", "New York", "Tokyo", "Kyoto"],
                correctAnswer: "Los Angeles",
                image: "https://flicknerd.com/wp-content/uploads/2023/10/mv5bmtc1nda0mdu5of5bml5banbnxkftztcwotq3ndu4mw4040._v1_.jpg?w=1000&h=700&crop=1"
            },


            {
                question: "What is the name of Supermanâ€™s biological father?",
                answers: ["Zod", "Jor-El", "Kal-El", "Non"],
                correctAnswer: "Jor-El",
                image: "https://comiczombie.net/wp-content/uploads/2015/10/superman-the-movie-1978-marlon-brando-as-jor-el-sentences-general-zod-non-and-ursa.jpg"
            },


            {
                question: "Who composed the iconic score for the 1989 'Batman' movie?",
                answers: ["John Williams", "Hans Zimmer", "Danny Elfman", "James Horner"],
                correctAnswer: "Danny Elfman",
                image: "https://i.ytimg.com/vi/t2CjYRuSB3U/sddefault.jpg"
            }


        ];
    
   

    function startGame() {
        points = 0; // Reset points
        currentQuestionIndex = 0; // Reset question index
        startScreen.style.display = 'none';
        gameContainer.style.display = 'block';
        setQuestion();
        updatePointsDisplay();
    }

    // function setQuestion() {
    //     resetState(); // Reset game state, including clearing the timer and setting `hasAnswered` to false.
    //     let currentQuestion = questions[currentQuestionIndex];
    //     questionEl.textContent = currentQuestion.question;
    //     questionImage.src = currentQuestion.image;
    
    //     answerButtons.forEach((button, index) => {
    //         button.classList.remove('hide'); // Ensure all buttons are visible.
    //         if (index < currentQuestion.answers.length) {
    //             button.textContent = currentQuestion.answers[index];
    //             button.disabled = false; // Re-enable the button for the new question.
    //             button.onclick = () => {
    //                 if (!hasAnswered) {
    //                     selectAnswer(currentQuestion.answers[index], currentQuestion.correctAnswer);
    //                     hasAnswered = true; // Prevent further answers until the next question.
    //                     answerButtons.forEach(btn => btn.disabled = true); // Disable further clicks.
    //                 }
    //             };
    //         } else {
    //             button.classList.add('hide'); // Hide extra buttons if not needed.
    //         }
    //     });
    function setQuestion() {
        resetState();
        let currentQuestion = questions[currentQuestionIndex];
        questionEl.textContent = currentQuestion.question;
        questionImage.src = currentQuestion.image;
    
        answerButtons.forEach((button, index) => {
            button.classList.remove('hide');
            button.disabled = false;
    
            // Remove any previous event listeners
            button.removeEventListener('click', handleAnswerClick);
    
            if (index < currentQuestion.answers.length) {
                button.textContent = currentQuestion.answers[index];
                // Add new event listener
                button.addEventListener('click', () => handleAnswerClick(currentQuestion.answers[index], currentQuestion.correctAnswer));
            } else {
                button.classList.add('hide');
            }
        });
    }


    
    
    function handleAnswerClick(selectedAnswer, correctAnswer) {
        if (!hasAnswered) {
            selectAnswer(selectedAnswer, correctAnswer);
            hasAnswered = true;
            answerButtons.forEach(btn => btn.disabled = true);
        }
    }
    



    function showQuestion(question) {
        questionEl.textContent = question.question;
        questionImage.src = question.image;
        answerButtons.forEach((button, index) => {
            if (question.answers[index]) {
                button.textContent = question.answers[index];
                button.classList.remove('hide');
                button.onclick = () => selectAnswer(question.answers[index], question.correctAnswer);
            } else {
                button.classList.add('hide'); // Hide extra buttons if not needed
            }
        });
        startTimer();
    }

    // function resetState() {
    //     clearInterval(timer);
    //     feedbackEl.textContent = '';
    //     hasAnswered = false; // Allow answering for the new question.
    //     timeLeft = 30;
    //     updateTimerDisplay();
    //     // No need to disable buttons here; they will be re-enabled in setQuestion.
    // }
    

    // function selectAnswer(selectedAnswer, correctAnswer) {
    //     let isCorrect = selectedAnswer === correctAnswer;
    //     points += isCorrect ? 1 : Math.max(0, points - 1); // Update points correctly
    //     feedbackEl.textContent = isCorrect ? "Correct! Your points: " + points : "Incorrect! You lost a point! Your points: " + points;
    //     updatePointsDisplay();
    //     setTimeout(moveToNextQuestion, 2000); // Wait 2 seconds before moving to the next question
    // }
    function selectAnswer(selectedAnswer, correctAnswer) {
        console.log(`Current Points Before: ${points}`);
        let isCorrect = selectedAnswer === correctAnswer;
        points += isCorrect ? 1 : Math.max(0, points - 1);
        console.log(`Current Points After: ${points}`);
    
        feedbackEl.textContent = isCorrect ? "Correct! Your points: " + points : "Incorrect! You lost a point! Your points: " + points;
        updatePointsDisplay();
        setTimeout(moveToNextQuestion, 2000);
    }
    




    function moveToNextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
            setQuestion();
        } else {
            endGame();
        }
    }

    function startTimer() {
        updateTimerDisplay();
        timer = setInterval(function() {
            if (timeLeft > 0) {
                timeLeft--;
                updateTimerDisplay();
            } else {
                clearInterval(timer);
                feedbackEl.textContent = "Time's up!";
                setTimeout(moveToNextQuestion, 2000);
            }
        }, 1000);
    }

    function updateTimerDisplay() {
        timerDisplay.textContent = timeLeft;
    }

    function updatePointsDisplay() {
        pointsEl.textContent = 'Points: ' + points;
    }


    function endGame() {
        document.getElementById('trivia').style.display = 'none'; // Hide the trivia section
        document.getElementById('summaryScreen').style.display = 'flex'; // Show the summary screen
    
        let finalScore = document.getElementById('finalScore');
        finalScore.textContent = 'Your final score: ' + points;
    
        let correctAnswers = document.getElementById('correctAnswers');
        correctAnswers.textContent = 'Correct answers: ' + calculateCorrectAnswers();
    
        document.getElementById('restartButton').addEventListener('click', function() {
            location.reload(); // Reloads the page to restart the game
        });
    }
    
    function calculateCorrectAnswers() {
        
        return questions.reduce((acc, question) => acc + (question.userAnswer === question.correctAnswer ? 1 : 0), 0);
    }
   
 // Restart Game Function
 function restartGame() {
    points = 0;
    currentQuestionIndex = 0;
    hasAnswered = false;

    // Reset UI components
    document.getElementById('pointsCounter').textContent = 'Points: 0';
    document.getElementById('timerDisplay').textContent = '30s'; // Reset timer display
    document.getElementById('feedback').textContent = ''; // Clear feedback
    document.getElementById('questionImage').src = ''; // Clear question image
    document.getElementById('question').textContent = ''; // Clear question text

    // Hide the summary screen and reset answer buttons
    document.querySelectorAll('.answer').forEach(button => {
        button.disabled = false; // Re-enable buttons
        button.classList.remove('hide'); // Make sure to show all answer buttons
        button.textContent = ''; // Clear button text
    });

    //Hide end screen
    document.getElementById('summaryScreen').style.display = 'none';

    // Display the start screen again
    gameContainer.style.display = 'none';
    startScreen.style.display = 'flex';
}
    

    startButton.addEventListener('click', startGame);
    restartButton.addEventListener('click', restartGame);
});
